class Solution(object):
    def totalFruit(self, fruits):
        l , total , res = 0 , 0 , 0
        dic={}
        for r in range(len(fruits)):
            dic[fruits[r]]=dic.get(fruits[r],0)+1
            total+=1
            while len(dic)>2:
                dic[fruits[l]]-=1
                if dic[fruits[l]]==0:
                    dic.pop(fruits[l])
                l+=1
                total-=1
            res=max(res,total)
        return res
